# 事件介绍

本节将对事件进行简要介绍，你将需要这些知识来完全理解 **第3章 "基本窗口程序"** 和 **第4章 "窗口属性"** 中描述的一些窗口属性。在 **第8章 "事件"** 和 **第9章 "键盘和指针"** 中，将更全面的介绍事件。

## 什么是事件？

移动鼠标指针或按下键盘按键会导致一个输入事件的发生，这是最简单和最常见的两种事件类型，但还有许多其他类型的事件。事件是一个包含事件信息的包，当某些动作发生时由服务器产生，发送给客户端由客户端将其放入事件队列供程序使用。队列中的事件可以在随后的任何时间以任何顺序被读取，但它们通常是按照它们发生的顺序被读取和处理。

下面是一组其他类型的事件：

- 鼠标（或其他指针）按钮被按下或释放。( **`ButtonPress`** , **`ButtonRelease`** )
- 窗口被映射或取消映射。( **`MapNotify`** , **`UnmapNotify`** )
- 鼠标进入或者离开窗口边界。( **`EnterNotify`** , **`LeaveNotify`** )

这些事件类型通常用于用户输入和控制用户界面。

第二组事件报告窗口操作产生的事件。例如，当一个窗口在被遮挡后变得可见时，它会收到一个 **`Expose`** 事件。当窗口的定位（当父体被调整大小时控制窗口位置的窗口属性）生效时，会产生一个 **GravityNotify** 事件。

- 客户端可以要求将所有的键盘输入发送到一个特定的窗口，而不管鼠标指针的位置在哪儿，这被称为一个键盘焦点窗口。将键盘焦点从一个窗口转移到另一个窗口会引起 **`FocusIn`** 和 **`FocusOut`** 事件，向客户端表明它是否可以进行进一步的键盘事件。
- 改变键盘按键映射会导致一个 **`MappingNotify`** 事件被发送到所有客户端。
- 重置一个窗口有时是由窗口管理器来完成的，以便为屏幕上的窗口添加一个UI框架。这个动作会引起一个 **`ReparentNotify`** 事件。
- 当客户端改变窗口的一个属性时，会产生 **`PropertyNotify`** 事件。
- **`SelectionClear`** 、**`SelectionNotify`** 和 **`SelectionRequest`** 事件被用来在允许用户选择一段文本（或其他信息）的客户端和允许用户将信息放在其窗口内的客户端之间来回通信。其中一些事件是用 **`XSendEvent`** 发送的。

在这一点上，我们只需要大致了解什么是事件，而不是准确了解每个事件的用途或如何使用它们。 **第8章 "事件"** 和 **第9章 "键盘和指针"** 将提供更完整的细节。

